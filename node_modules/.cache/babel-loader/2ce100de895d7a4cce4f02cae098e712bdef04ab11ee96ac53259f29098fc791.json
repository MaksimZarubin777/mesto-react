{"ast":null,"code":"import _slicedToArray from\"/Users/maksim/Desktop/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import api from\"../utils/Api\";import Card from\"./Card\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Main(_ref){var onEditProfile=_ref.onEditProfile,onAddPlace=_ref.onAddPlace,onEditAvatar=_ref.onEditAvatar,onCardClick=_ref.onCardClick;var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),userName=_React$useState2[0],setUserName=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),userDescription=_React$useState4[0],setUserDescription=_React$useState4[1];var _React$useState5=React.useState(''),_React$useState6=_slicedToArray(_React$useState5,2),userAvatar=_React$useState6[0],setUserAvatar=_React$useState6[1];var _React$useState7=React.useState([]),_React$useState8=_slicedToArray(_React$useState7,2),cards=_React$useState8[0],setCards=_React$useState8[1];function setProfileData(data){setUserName(data.name);setUserDescription(data.about);setUserAvatar(data.avatar);};// запрос данный профиля и карточек\nReact.useEffect(function(){Promise.all([api.getProfileInfo(),api.getInitialCard()]).then(function(_ref2){var _ref3=_slicedToArray(_ref2,2),profileData=_ref3[0],cardData=_ref3[1];// устанавливаем данные профиля\nsetProfileData(profileData);// генерируем карточки\nvar newCards=cardData.map(function(card){return{name:card.name,likes:card.likes,link:card.link};});setCards(newCards);}).catch(function(err){console.log(err);});},[]);return/*#__PURE__*/_jsxs(\"main\",{className:\"content\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"profile\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile__avatar-block\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"profile__avatar\",onClick:onEditAvatar,style:{backgroundImage:\"url(\".concat(userAvatar,\")\")}}),/*#__PURE__*/_jsx(\"div\",{className:\"profile__avatar-update\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile__info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile__title\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"profile__text-title\",children:userName}),/*#__PURE__*/_jsx(\"button\",{className:\"profile__button-edit\",type:\"button\",onClick:onEditProfile})]}),/*#__PURE__*/_jsx(\"p\",{className:\"profile__text-subtitle\",children:userDescription})]}),/*#__PURE__*/_jsx(\"button\",{className:\"profile__button-add\",type:\"button\",onClick:onAddPlace})]}),/*#__PURE__*/_jsx(\"section\",{className:\"elements\",\"aria-label\":\"\\u041C\\u0435\\u0441\\u0442\\u0430\",children:cards.map(function(card,index){return/*#__PURE__*/_jsx(Card,{card:card,onCardClick:onCardClick},index);})})]});};export default Main;","map":{"version":3,"names":["React","api","Card","jsx","_jsx","jsxs","_jsxs","Main","_ref","onEditProfile","onAddPlace","onEditAvatar","onCardClick","_React$useState","useState","_React$useState2","_slicedToArray","userName","setUserName","_React$useState3","_React$useState4","userDescription","setUserDescription","_React$useState5","_React$useState6","userAvatar","setUserAvatar","_React$useState7","_React$useState8","cards","setCards","setProfileData","data","name","about","avatar","useEffect","Promise","all","getProfileInfo","getInitialCard","then","_ref2","_ref3","profileData","cardData","newCards","map","card","likes","link","catch","err","console","log","className","children","onClick","style","backgroundImage","concat","type","index"],"sources":["/Users/maksim/Desktop/dev/mesto-react/src/components/Main.js"],"sourcesContent":["import React from \"react\";\nimport api from \"../utils/Api\";\nimport Card from \"./Card\";\n\nfunction Main( {onEditProfile, onAddPlace, onEditAvatar, onCardClick} ) {\n  const [userName, setUserName] = React.useState('');\n  const [userDescription, setUserDescription] = React.useState('');\n  const [userAvatar, setUserAvatar] = React.useState('');\n  const [cards, setCards] = React.useState([]);\n\n  function setProfileData(data) {\n    setUserName(data.name);\n    setUserDescription(data.about);\n    setUserAvatar(data.avatar);\n  };\n\n  // запрос данный профиля и карточек\n  React.useEffect(() => {\n    Promise.all([api.getProfileInfo(), api.getInitialCard()])\n    .then(([profileData, cardData]) => {\n      // устанавливаем данные профиля\n      setProfileData(profileData); \n      // генерируем карточки\n      const newCards = cardData.map(card => {\n        return {\n          name: card.name,\n          likes: card.likes,\n          link: card.link\n        };\n      });\n      setCards(newCards);\n    })\n    .catch(err => {\n      console.log(err)\n    })\n  }, []);\n\n\n  return (\n    <main className=\"content\">\n    <section className=\"profile\">\n      <div className=\"profile__avatar-block\">\n        {/* В задании сказано, что картинку нужно передать через style. \n        Если использовать img, то из-за отсутствия ссылки в src на сайте отображается alt.\n        Можно ли было использовть img, а картинку передавать в src? Почему просят передать именно через style? */}\n        <div className=\"profile__avatar\" onClick={onEditAvatar}  style={{ backgroundImage: `url(${userAvatar})`}}/>\n        <div className=\"profile__avatar-update\"></div>\n      </div>\n      <div className=\"profile__info\">\n        <div className=\"profile__title\">\n          <h1 className=\"profile__text-title\">{userName}</h1>\n          <button className=\"profile__button-edit\" type=\"button\" onClick={onEditProfile}></button>\n        </div>\n        <p className=\"profile__text-subtitle\">{userDescription}</p>\n      </div>\n      <button className=\"profile__button-add\" type=\"button\" onClick={onAddPlace}></button>\n    </section>\n    <section className=\"elements\" aria-label=\"Места\">\n      {cards.map((card, index) => (\n        <Card key={index} card={card} onCardClick={onCardClick}/>\n      ))}\n    </section>\n  </main>\n  )\n};\n\nexport default Main;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}